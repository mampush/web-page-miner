<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Web Page Miner</title>
    <link rel="stylesheet" href="static/styles.css" />
    <link href="https://fonts.cdnfonts.com/css/segoe-ui-4" rel="stylesheet" />
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5642728784073260"
     crossorigin="anonymous"></script>
  </head>
  <body>
    <div class="container">
      {% include 'header.html' %}

      <div class="blurb"></div>

      <div class="inputs">
        <form
          id="webForm"
          method="POST"
          action="/web_tool"
          autocomplete="off"
          onsubmit="showLoadingScreen(); startQuoteCycle();"
        >
          <div class="input-container">
            <h2>URL Analysis</h2>
            <br />
            <p>
              Obtain IP, server, domain, and DNS details, along with other
              important information, given a URL. Assess the credibility of a
              URL by identifying its various sources, as well as the information
              that appears on the website. Any full-length URL is supported.
            </p>

            <label for="web_input">Enter a Website URL:</label>

            <input
              type="url"
              name="web_input"
              id="web_input"
              placeholder="https://example.com/"
              pattern="https?:\/\/(www\.)?.+\..+"
              style="border: 1px solid; border-radius: 4px"
              required
            />
            <button type="submit">Go</button>
          </div>
        </form>
      </div>

      <div class="credits">
        <p>
          Was developed by Davit Mamporia.<br />
          Github:
          <b
            ><a
              href="https://github.com/mampush/web-page-miner"
              style="text-decoration: none; font-weight: bold"
              >Web Page Miner</a
            ></b
          >
        </p>
      </div>
    </div>

    <div class="loading-screen" id="loadingScreen">
      <div id="quoteContainer" class="quote-container"></div>
      <div></div>
    </div>

    <script>
      function showLoadingScreen() {
        document.getElementById("loadingScreen").style.display = "flex";
      }
      window.addEventListener("pageshow", function (event) {
        if (event.persisted) {
          document.getElementById("loadingScreen").style.display = "none";
        }
      });
      const quotes = [
        "Information is being loaded.",
        "Information is being loaded..",
        "Information is being loaded...",
      ];

      function startQuoteCycle() {
        const quoteContainer = document.getElementById("quoteContainer");
        let index = 0;

        function displayNextQuote() {
          const quote = quotes[index];
          quoteContainer.innerHTML = `<div class="quote">${quote}</div>`;
          index = (index + 1) % quotes.length;
        }

        displayNextQuote();

        const quoteInterval = setInterval(displayNextQuote, 1000);

        setTimeout(() => {
          clearInterval(quoteInterval);
        }, 15000);
      }
    </script>
  </body>
</html>